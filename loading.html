<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shadow Rocket - Loading</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, #0f172a, #1e293b, #2d1b69);
        color: white;
        font-family: "Segoe UI", system-ui, sans-serif;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
      }

      /* Stars Background */
      .stars {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -2;
      }

      .star {
        position: absolute;
        background: white;
        border-radius: 50%;
        animation: twinkle 3s infinite ease-in-out;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
        }
        50% {
          opacity: 1;
        }
      }

      /* Main Container */
      .loading-container {
        display: flex;
        height: 100vh;
        width: 100vw;
        justify-content: center;
        align-items: center;
        position: relative;
        flex-direction: column;
      }

      /* Moon với theme Shadow Rocket */
      .moon {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        height: 200px;
        width: 200px;
        border-radius: 50%;
        position: absolute;
        margin: auto;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        overflow: hidden;
        box-shadow: 0 0 50px #6366f1, 0 0 100px #8b5cf6,
          inset 0 0 30px rgba(255, 255, 255, 0.3);
        animation: moon-glow 4s infinite alternate;
      }

      @keyframes moon-glow {
        0% {
          box-shadow: 0 0 50px #6366f1, 0 0 100px #8b5cf6,
            inset 0 0 30px rgba(255, 255, 255, 0.3);
        }
        100% {
          box-shadow: 0 0 80px #8b5cf6, 0 0 150px #ec4899,
            inset 0 0 50px rgba(255, 255, 255, 0.5);
        }
      }

      .crater {
        background: linear-gradient(45deg, #4f46e5, #7c3aed);
        height: 35px;
        width: 35px;
        border-radius: 50%;
        position: relative;
        box-shadow: inset -3px -3px 5px rgba(0, 0, 0, 0.3);
      }
      .crater:before {
        content: "";
        position: absolute;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        box-shadow: -3px 0 0 1px rgba(99, 102, 241, 0.8);
        top: 5px;
        left: 8px;
      }
      .crater1 {
        top: 40px;
        left: 120px;
        transform: scale(1.1);
      }
      .crater2 {
        bottom: 25px;
        left: 75px;
        transform: scale(0.7);
      }
      .crater3 {
        left: 25px;
        top: 30px;
        transform: scale(0.85);
      }
      .crater4 {
        left: 130px;
        top: 45px;
        transform: scale(1.3);
      }
      .crater5 {
        left: 45px;
        bottom: 15px;
        transform: scale(0.75);
      }

      .shadow {
        height: 210px;
        width: 210px;
        box-shadow: 25px 0 0 8px rgba(99, 102, 241, 0.3);
        border-radius: 50%;
        position: relative;
        bottom: 175px;
        right: 52px;
        opacity: 0.6;
      }

      .eye {
        background: linear-gradient(45deg, #0f172a, #1e293b);
        height: 15px;
        width: 15px;
        position: relative;
        border-radius: 50%;
        box-shadow: 0 0 10px #ec4899;
        animation: eye-blink 3s infinite;
      }
      @keyframes eye-blink {
        0%,
        95%,
        100% {
          transform: scaleY(1);
        }
        97% {
          transform: scaleY(0.1);
        }
      }
      .eye-l {
        bottom: 270px;
        left: 70px;
      }
      .eye-r {
        bottom: 285px;
        left: 115px;
      }

      .mouth {
        height: 8px;
        width: 15px;
        border: 3px solid #0f172a;
        position: relative;
        bottom: 275px;
        left: 92px;
        border-top: none;
        border-radius: 0 0 12px 12px;
        box-shadow: 0 0 8px #ec4899;
      }

      .blush {
        background: linear-gradient(45deg, #ec4899, #f59e0b);
        height: 12px;
        width: 12px;
        position: relative;
        border-radius: 50%;
        opacity: 0.7;
        filter: blur(1px);
        animation: blush-pulse 2s infinite alternate;
      }
      @keyframes blush-pulse {
        0% {
          opacity: 0.4;
          transform: scale(1);
        }
        100% {
          opacity: 0.8;
          transform: scale(1.2);
        }
      }
      .blush1 {
        bottom: 290px;
        left: 55px;
      }
      .blush2 {
        bottom: 302px;
        left: 135px;
      }

      /* Orbit với hiệu ứng không gian */
      .orbit {
        height: 350px;
        width: 350px;
        border-radius: 50%;
        position: absolute;
        margin: auto;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        animation: spin 15s infinite linear;
        border: 2px dashed rgba(99, 102, 241, 0.3);
      }
      @keyframes spin {
        100% {
          transform: rotate(360deg);
        }
      }

      /* Rocket nâng cấp */
      .rocket {
        background: linear-gradient(45deg, #f8fafc, #e2e8f0);
        height: 60px;
        width: 30px;
        border-radius: 50% 50% 0 0;
        position: relative;
        left: -15px;
        top: 140px;
        overflow: visible;
        box-shadow: 0 0 20px #6366f1, inset 0 0 10px rgba(255, 255, 255, 0.8);
        transform-style: preserve-3d;
        animation: rocket-tilt 5s infinite ease-in-out;
      }

      @keyframes rocket-tilt {
        0%,
        100% {
          transform: rotate(-5deg);
        }
        50% {
          transform: rotate(5deg);
        }
      }

      .rocket:before {
        content: "";
        position: absolute;
        background: linear-gradient(45deg, #6366f1, #8b5cf6);
        height: 25px;
        width: 65px;
        border-radius: 50% 50% 0 0;
        z-index: -1;
        right: -17px;
        bottom: 0;
        box-shadow: 0 0 15px #6366f1;
      }

      .rocket:after {
        content: "";
        position: absolute;
        background: linear-gradient(45deg, #6366f1, #8b5cf6);
        height: 6px;
        width: 18px;
        border-radius: 0 0 3px 3px;
        bottom: -6px;
        left: 5px;
      }

      .rocket .fire {
        position: absolute;
        bottom: -25px;
        left: 50%;
        transform: translateX(-50%);
        width: 15px;
        height: 40px;
        background: radial-gradient(
          ellipse at center,
          #ffec85 0%,
          #ffae34 20%,
          #ec760c 40%,
          #cd4606 60%,
          #8b5cf6 80%,
          rgba(0, 0, 0, 0) 100%
        );
        border-radius: 50% 50% 20% 20%;
        animation: flame 0.2s infinite alternate;
        z-index: -1;
        filter: blur(2px);
      }

      @keyframes flame {
        0% {
          transform: translateX(-50%) scaleY(1);
          opacity: 0.9;
        }
        100% {
          transform: translateX(-50%) scaleY(1.3);
          opacity: 0.6;
        }
      }

      .rocket .gas {
        position: absolute;
        bottom: -45px;
        left: 50%;
        transform: translateX(-50%);
        width: 12px;
        height: 12px;
        background: radial-gradient(circle, #6366f1, #ec4899, transparent);
        border-radius: 50%;
        animation: gas 2s infinite ease-out;
        filter: blur(3px);
      }
      .rocket .gas:nth-child(3) {
        animation-delay: 0.2s;
        left: 45%;
      }
      .rocket .gas:nth-child(4) {
        animation-delay: 0.4s;
        left: 55%;
      }
      .rocket .gas:nth-child(5) {
        animation-delay: 0.6s;
        left: 40%;
      }
      .rocket .gas:nth-child(6) {
        animation-delay: 0.8s;
        left: 60%;
      }

      @keyframes gas {
        0% {
          transform: translateX(-50%) scale(0.5);
          opacity: 0.8;
        }
        100% {
          transform: translateX(-50%) translateY(60px) scale(2);
          opacity: 0;
        }
      }

      .window {
        background: linear-gradient(45deg, #0f172a, #1e293b);
        height: 12px;
        width: 12px;
        border: 2px solid #6366f1;
        border-radius: 50%;
        position: relative;
        top: 20px;
        left: 7px;
        box-shadow: inset 0 0 10px #6366f1, 0 0 15px #6366f1;
        animation: window-glow 2s infinite alternate;
      }

      @keyframes window-glow {
        0% {
          box-shadow: inset 0 0 10px #6366f1, 0 0 15px #6366f1;
        }
        100% {
          box-shadow: inset 0 0 15px #ec4899, 0 0 25px #ec4899;
        }
      }

      /* Loading Text với hiệu ứng không gian */
      .loading-text {
        position: absolute;
        bottom: 100px;
        text-align: center;
        z-index: 10;
      }

      .main-title {
        font-size: 2.5rem;
        font-weight: 800;
        background: linear-gradient(45deg, #6366f1, #ec4899, #f59e0b);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 1rem;
        text-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
        animation: title-glow 3s infinite alternate;
      }

      @keyframes title-glow {
        0% {
          filter: drop-shadow(0 0 10px #6366f1);
        }
        100% {
          filter: drop-shadow(0 0 20px #ec4899);
        }
      }

      .subtitle {
        font-size: 1.1rem;
        color: #94a3b8;
        margin-bottom: 2rem;
      }

      .progress-container {
        width: 300px;
        height: 8px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #6366f1, #ec4899, #f59e0b);
        border-radius: 10px;
        width: 0%;
        animation: progress-fill 2s ease-in-out forwards;
        box-shadow: 0 0 20px #6366f1;
      }

      @keyframes progress-fill {
        0% {
          width: 0%;
        }
        20% {
          width: 25%;
        }
        40% {
          width: 50%;
        }
        60% {
          width: 75%;
        }
        80% {
          width: 90%;
        }
        100% {
          width: 100%;
        }
      }

      /* Loading features */
      .loading-features {
        margin-top: 2rem;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
        opacity: 0;
        animation: fade-in 0.5s ease-in-out 0.5s forwards;
      }

      @keyframes fade-in {
        to {
          opacity: 1;
        }
      }

      .feature-item {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        font-size: 0.9rem;
        color: #cbd5e1;
        animation: feature-slide 0.5s ease-in-out forwards;
        opacity: 0;
        transform: translateX(-20px);
      }

      .feature-item:nth-child(1) {
        animation-delay: 1s;
      }
      .feature-item:nth-child(2) {
        animation-delay: 1.3s;
      }
      .feature-item:nth-child(3) {
        animation-delay: 1.6s;
      }

      @keyframes feature-slide {
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .feature-item i {
        color: #10b981;
        font-size: 1rem;
      }

      /* Curve text */
      .curve {
        width: 500px;
        height: 500px;
        position: absolute;
        animation: rotate 20s linear infinite;
        fill: transparent;
      }
      @keyframes rotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .curve text {
        letter-spacing: 15px;
        text-transform: uppercase;
        font: 600 1.2em "Segoe UI", sans-serif;
        fill: url(#gradient);
        filter: drop-shadow(0 2px 8px #6366f1);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .moon {
          height: 150px;
          width: 150px;
        }
        .orbit {
          height: 280px;
          width: 280px;
        }
        .main-title {
          font-size: 2rem;
        }
        .curve {
          transform: scale(0.8);
        }
      }
    </style>
  </head>
  <body>
    <!-- Stars Background -->
    <div class="stars" id="stars"></div>

    <!-- SVG Gradient -->
    <svg width="0" height="0">
      <defs>
        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#6366f1" />
          <stop offset="50%" stop-color="#ec4899" />
          <stop offset="100%" stop-color="#f59e0b" />
        </linearGradient>
      </defs>
    </svg>

    <div class="loading-container">
      <!-- Moon với khuôn mặt -->
      <div class="moon">
        <div class="crater crater1"></div>
        <div class="crater crater2"></div>
        <div class="crater crater3"></div>
        <div class="crater crater4"></div>
        <div class="crater crater5"></div>
        <div class="shadow"></div>
        <div class="eye eye-l"></div>
        <div class="eye eye-r"></div>
        <div class="mouth"></div>
        <div class="blush blush1"></div>
        <div class="blush blush2"></div>
      </div>

      <!-- Orbit và Rocket -->
      <div class="orbit">
        <div class="rocket">
          <div class="window"></div>
          <div class="fire"></div>
          <div class="gas"></div>
          <div class="gas"></div>
          <div class="gas"></div>
          <div class="gas"></div>
          <div class="gas"></div>
          <div class="gas"></div>
          <div class="gas"></div>
        </div>
      </div>

      <!-- Curve Text -->
      <div class="curve">
        <svg viewBox="0 0 500 500">
          <path
            id="loading"
            d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"
          ></path>
          <text width="500">
            <textPath xlink:href="#loading">
              🚀 Shadow Rocket Ultimate • Premium Unlock 2024 •
            </textPath>
          </text>
        </svg>
      </div>

      <!-- Loading Text -->
      <div class="loading-text">
        <div class="main-title">SHADOW ROCKET</div>
        <div class="subtitle">Initializing Premium Features...</div>

        <div class="progress-container">
          <div class="progress-bar"></div>
        </div>

        <div class="loading-features">
          <div class="feature-item">
            <i class="fas fa-bolt"></i>
            <span>Activating Premium Unlocks...</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-shield-alt"></i>
            <span>Loading Security Protocols...</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-rocket"></i>
            <span>Preparing for Launch...</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Reset sessionStorage khi vào loading page
      sessionStorage.removeItem("loadingShown");
      sessionStorage.removeItem("appInitialized");

      // Tạo stars background
      function createStars() {
        const stars = document.getElementById("stars");
        const starCount = 150;

        for (let i = 0; i < starCount; i++) {
          const star = document.createElement("div");
          star.className = "star";

          const size = Math.random() * 3 + 1;
          const posX = Math.random() * 100;
          const posY = Math.random() * 100;
          const delay = Math.random() * 3;

          star.style.width = `${size}px`;
          star.style.height = `${size}px`;
          star.style.left = `${posX}%`;
          star.style.top = `${posY}%`;
          star.style.animationDelay = `${delay}s`;

          stars.appendChild(star);
        }
      }

      // Chuyển hướng sau 2 giây
      setTimeout(() => {
        // Set flag để không chạy loading nữa
        sessionStorage.setItem("loadingShown", "true");
        window.location.href = "index.html";
      }, 2000);

      // Khởi tạo
      createStars();

      // Hiệu ứng typing cho subtitle
      const subtitle = document.querySelector(".subtitle");
      const originalText = subtitle.textContent;
      subtitle.textContent = "";

      let i = 0;
      const typeWriter = () => {
        if (i < originalText.length) {
          subtitle.textContent += originalText.charAt(i);
          i++;
          setTimeout(typeWriter, 50);
        }
      };

      setTimeout(typeWriter, 300);
    </script>
  </body>
</html>
