<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>üåü All-In-One Premium Unlock - Phi√™n B·∫£n Ho√†n Thi·ªán</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="icon" href="assets/icon.png" type="image/png" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Floating platform logos -->
    <i class="floating-logo youtube fab fa-youtube"></i>
    <i class="floating-logo spotify fab fa-spotify"></i>
    <i class="floating-logo locket fas fa-lock"></i>
    <i
      class="floating-logo bilibili fas fa-brands fa-bilibili fa-beat"
      style="color: #74c0fc"
    ></i>

    <div class="container">
      <div class="logo">
        <i class="fas fa-rocket"></i>
      </div>
      <h1>All-In-One Premium Unlock</h1>
      <p class="subtitle">
        Ch·∫∑n qu·∫£ng c√°o v√† m·ªü kh√≥a t√≠nh nƒÉng Premium cho YouTube, Spotify,
        Bilibili, Locket v√† nhi·ªÅu h∆°n n·ªØa
      </p>

      <div class="features">
        <div class="feature premium">
          <i class="fas fa-ad"></i>
          <h3>Ch·∫∑n Qu·∫£ng C√°o</h3>
          <p>Lo·∫°i b·ªè t·∫•t c·∫£ qu·∫£ng c√°o kh√≥ ch·ªãu tr√™n m·ªçi n·ªÅn t·∫£ng</p>
        </div>
        <div class="feature premium">
          <i class="fas fa-unlock"></i>
          <h3>M·ªü Kh√≥a Premium</h3>
          <p>Truy c·∫≠p t√≠nh nƒÉng cao c·∫•p mi·ªÖn ph√≠ vƒ©nh vi·ªÖn</p>
        </div>
        <div class="feature">
          <i class="fas fa-sync"></i>
          <h3>T·ª± ƒê·ªông C·∫≠p Nh·∫≠t</h3>
          <p>Lu√¥n c√≥ phi√™n b·∫£n m·ªõi nh·∫•t t·ª± ƒë·ªông</p>
        </div>
        <div class="feature">
          <i class="fas fa-shield-alt"></i>
          <h3>B·∫£o M·∫≠t</h3>
          <p>Kh√¥ng thu th·∫≠p d·ªØ li·ªáu c√° nh√¢n</p>
        </div>
        <div class="feature">
          <i class="fas fa-laptop-code"></i>
          <h3>ƒêa n·ªÅn t·∫£ng</h3>
          <p>H·ªó tr·ª£ nhi·ªÅu ·ª©ng d·ª•ng tr√™n m·ªçi thi·∫øt b·ªã v√† h·ªá ƒëi·ªÅu h√†nh.</p>
        </div>
        <div class="feature">
          <i class="fas fa-mouse-pointer"></i>
          <h3>D·ªÖ d√†ng s·ª≠ d·ª•ng</h3>
          <p>
            Giao di·ªán th√¢n thi·ªán, d·ªÖ thao t√°c ngay c·∫£ v·ªõi ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu.
          </p>
        </div>
      </div>

      <button id="downloadBtn" class="brutalist-button">
        <div class="shadowrocket-logo"></div>
        <div class="button-text">
          <span>T·ª± ƒë·ªông nh·∫≠p v√†o</span>
          <span>·ª®ng d·ª•ng VPN</span>
        </div>
      </button>

      <div class="qr-section">
        <h3>Qu√©t QR Code ƒë·ªÉ nh·∫≠p c·∫•u h√¨nh</h3>
        <img
          src="assets/frame.png"
          alt="QR Code"
          class="qr-code-img"
          id="external-qr"
        />
        <button class="download-qr" id="downloadQrBtn">
          <i class="fas fa-download"></i> T·∫£i QR Code
        </button>
      </div>

      <div class="app-buttons">
        <button class="app-btn" data-app="shadowrocket">
          <i class="fas fa-rocket"></i> Shadowrocket
        </button>
        <button class="app-btn" data-app="quantumult">
          <i class="fas fa-bolt"></i> Quantumult
        </button>
        <button class="app-btn" data-app="surge">
          <i class="fas fa-chart-line"></i> Surge
        </button>
        <button class="app-btn" data-app="loon">
          <i class="fas fa-moon"></i> Loon
        </button>
        <button class="app-btn" data-app="clash">
          <i class="fas fa-shield-alt"></i> Clash
        </button>
      </div>

      <div class="code-container">
        <div class="code-block" id="configUrl">
          https://raw.githubusercontent.com/tunglor25/allinone/main/All_in_one.conf
        </div>
      </div>
    </div>

    <footer>
      ¬© 2023 All-In-One Premium Unlock | C·∫≠p nh·∫≠t l·∫ßn cu·ªëi:
      <span id="update-date"></span>
    </footer>

    <script>
      // Set current date
      document.getElementById("update-date").textContent =
        new Date().toLocaleDateString("vi-VN");

      // Add slight delay to container animation for better visual effect
      window.addEventListener("load", () => {
        const container = document.querySelector(".container");
        container.style.opacity = "0";
        container.style.transform = "translateY(20px)";
        setTimeout(() => {
          container.style.transition = "opacity 0.5s ease, transform 0.5s ease";
          container.style.opacity = "1";
          container.style.transform = "translateY(0)";
        }, 300);
      });

      // Config URL
      const configUrl =
        "https://raw.githubusercontent.com/tunglor25/allinone/main/All_in_one.conf";

      // Scheme c√°c ·ª©ng d·ª•ng
      const appSchemes = {
        shadowrocket: "shadowrocket://add/sub?url=",
        quantumult: "quantumult://import?url=",
        surge: "surge:///install-config?url=",
        loon: "loon://import?url=",
        clash: "clash://install-config?url=",
      };

      // X·ª≠ l√Ω khi nh·∫•n n√∫t ·ª©ng d·ª•ng
      document.querySelectorAll(".app-btn").forEach((btn) => {
        btn.addEventListener("click", function () {
          const app = this.dataset.app;
          const scheme = appSchemes[app];

          // T·∫°o iframe ƒë·ªÉ m·ªü ·ª©ng d·ª•ng
          const iframe = document.createElement("iframe");
          iframe.style.display = "none";
          iframe.src = scheme + encodeURIComponent(configUrl);
          document.body.appendChild(iframe);

          setTimeout(() => {
            document.body.removeChild(iframe);

            // Hi·ªÉn th·ªã th√¥ng b√°o n·∫øu kh√¥ng m·ªü ƒë∆∞·ª£c
            setTimeout(() => {
              if (!document.hidden) {
                alert(
                  `Kh√¥ng th·ªÉ m·ªü ${app}. Vui l√≤ng c√†i ƒë·∫∑t ·ª©ng d·ª•ng ho·∫∑c s·ª≠ d·ª•ng QR code.`
                );
              }
            }, 500);
          }, 100);
        });
      });

      // X·ª≠ l√Ω t·∫£i QR code
      document
        .getElementById("downloadQrBtn")
        .addEventListener("click", function () {
          const qrUrl = "https://qrco.de/bg3hHn";
          const link = document.createElement("a");
          link.href = qrUrl;
          link.download = "assets/frame.png";
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);

          // Th√¥ng b√°o
          const btn = document.getElementById("downloadQrBtn");
          btn.innerHTML = '<i class="fas fa-check"></i> ƒê√£ t·∫£i xu·ªëng';
          setTimeout(() => {
            btn.innerHTML = '<i class="fas fa-download"></i> T·∫£i QR Code';
          }, 2000);
        });

      // Copy button
      document.getElementById("copyBtn").addEventListener("click", function () {
        navigator.clipboard
          .writeText(configUrl)
          .then(() => {
            const copyBtn = document.getElementById("copyBtn");
            copyBtn.innerHTML = '<i class="fas fa-check"></i> ƒê√£ copy';
            copyBtn.style.background = "#1db954";
            setTimeout(() => {
              copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy';
              copyBtn.style.background = "var(--primary)";
            }, 2000);
          })
          .catch((err) => {
            console.error("Failed to copy: ", err);
          });
      });

      // H√†m ki·ªÉm tra thi·∫øt b·ªã di ƒë·ªông
      function isMobile() {
        return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(
          navigator.userAgent
        );
      }

      // X·ª≠ l√Ω khi nh·∫•n n√∫t t·∫£i v·ªÅ ch√≠nh
      document
        .getElementById("downloadBtn")
        .addEventListener("click", function () {
          if (isMobile()) {
            // Th·ª≠ m·ªü ·ª©ng d·ª•ng ƒë·∫ßu ti√™n (Shadowrocket)
            const iframe = document.createElement("iframe");
            iframe.style.display = "none";
            iframe.src =
              appSchemes.shadowrocket + encodeURIComponent(configUrl);
            document.body.appendChild(iframe);

            setTimeout(() => {
              document.body.removeChild(iframe);
            }, 300);
          } else {
            // X·ª≠ l√Ω cho PC
            const a = document.createElement("a");
            a.href = configUrl;
            a.download = "All_in_one.conf";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
          }
        });
    </script>
  </body>
</html>
